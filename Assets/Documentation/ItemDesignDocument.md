# 🐻 Bear Car 道具系统设计文档
> **版本 2.0** | 设计师友好版
> 快捷键：`Shift+Alt+I` 打开道具浏览器 | `Shift+Alt+P` 打开快速放置面板

---

## 📋 目录
1. [快速开始](#-快速开始)
2. [核心机制](#-核心机制)
3. [道具列表](#-道具列表)
4. [关卡设计指南](#-关卡设计指南)
5. [Aha Moment 设计](#-aha-moment-设计)
6. [编辑器工具](#-编辑器工具)

---

## 🚀 快速开始

### 3分钟上手

1. **创建道具资源**
   ```
   菜单 → BearCar → 道具系统 → 创建所有预设道具
   ```

2. **放置道具到场景**
   ```
   菜单 → BearCar → 关卡设计 → 快速放置面板 (Shift+Alt+P)
   ```

3. **测试游戏**
   - 绿熊 (Player 1): WASD 移动, Q/R 切换道具, Tab 使用
   - 红熊 (Player 2): 方向键移动, ,/. 切换道具, / 使用

---

## 💚❤️ 核心机制

### 颜色亲和系统 (Color Affinity)

这是本游戏最重要的合作机制！

```
┌─────────────────────────────────────────────────┐
│  🟢 绿色道具                🔴 红色道具          │
│  ───────────                ───────────         │
│  绿熊吃: +5 体力           红熊吃: +5 体力       │
│  红熊吃: +10 体力 ⭐        绿熊吃: +10 体力 ⭐   │
└─────────────────────────────────────────────────┘
```

**设计意图**: 吃"错"颜色的水果收益更高！这鼓励玩家之间沟通和分享。

### 玩家角色

| 玩家 | 颜色 | 控制 | 特点 |
|-----|------|------|------|
| Player 1 | 🟢 绿熊 | WASD + E + Tab | 吃红色道具更有效 |
| Player 2 | 🔴 红熊 | 方向键 + Enter + / | 吃绿色道具更有效 |

---

## 📦 道具列表

### 🍎 食物类 (恢复体力)

#### 绿色系 - 红熊吃更好！
| 图标 | 名称 | 绿熊 | 红熊 | 稀有度 | 视觉 |
|:---:|------|:----:|:----:|:------:|------|
| 🥝 | 猕猴桃 | +5 | +10 | ⚪普通 | 绿色圆形 |
| 🍈 | 绿色蜜瓜 | +5 | +10 | ⚪普通 | 浅绿圆形 |
| 🍏 | 青苹果 | +5 | +10 | ⚪普通 | 亮绿圆形 |

#### 红色系 - 绿熊吃更好！
| 图标 | 名称 | 绿熊 | 红熊 | 稀有度 | 视觉 |
|:---:|------|:----:|:----:|:------:|------|
| 🍒 | 樱桃 | +10 | +5 | ⚪普通 | 红色心形 |
| 🍎 | 红苹果 | +10 | +5 | ⚪普通 | 红色圆形 |
| 🍓 | 草莓 | +10 | +5 | ⚪普通 | 粉红心形 |

#### 中性 - 对所有熊效果相同
| 图标 | 名称 | 效果 | 稀有度 | 特殊 |
|:---:|------|:----:|:------:|------|
| 🍌 | 香蕉 | +2 | ⚪普通 | 公平的小补给 |
| ⚪ | 曼妥思 | +1 | ⚪普通 | **可与可乐组合！** |
| 🐟 | 软糖鱼 | +3 | 🔵稀有 | 可爱的零食 |
| ☠️ | 毒苹果 | -5 | 🔵稀有 | ⚠️ 陷阱！外观类似红苹果 |

---

### 🚧 陷阱/障碍类 (影响车辆)

| 图标 | 名称 | 效果 | 持续 | 可破坏 | 放置方式 |
|:---:|------|------|:----:|:------:|----------|
| 📍 | 钉子 | 拦截车辆 | 3秒 | ❌ | 使用后放置 |
| 📍 | 高级钉子 | 永久拦截 | ∞ | ✅铲子 | 使用后放置 |
| 🐭 | 粘鼠板 | 减速50% | 5秒 | ❌ | 使用后放置 |
| 🪨 | 石头 | 拦截+增重 | ∞ | ✅铲子 | 场景物体 |

---

### 🔧 工具类

| 图标 | 名称 | 用途 | 稀有度 | 使用对象 |
|:---:|------|------|:------:|----------|
| 🔧 | 铲子 | 击碎石头/彩蛋/高级钉子 | 🔵稀有 | 可破坏物体 |
| 👻 | 灵魂网 | 复活灵魂状态的队友 | 🟣史诗 | 灵魂熊 |

---

### ⭐ 特殊道具

| 图标 | 名称 | 效果 | 稀有度 | 触发条件 |
|:---:|------|------|:------:|----------|
| 🥤 | 罐装可乐 | 火箭推进3秒 | 🔵稀有 | 使用 |
| 🥚 | 复活节彩蛋 | 随机奖励 | 🟣史诗 | 铲子击碎 |
| 🍮 | 布丁垫子 | 弹跳平台 | 🔵稀有 | 放置后触碰 |

---

## 🎮 关卡设计指南

### 道具放置原则

#### ✅ 推荐做法

```
1. 每个区域至少有1个中性道具 (香蕉) 作为保底

2. 颜色道具成对放置，让玩家决定谁吃
   [🍏] --- [🍌] --- [🍎]

3. 陷阱附近放置解法
   [📍高级钉子] ←3格→ [🔧铲子]

4. 稀有道具放在有风险的位置
```

#### ❌ 避免做法

```
1. 不要在起点放毒苹果
2. 不要只放单一颜色的道具
3. 不要放置无法解决的永久障碍
```

---

### 经典布局模板

#### 💚 合作区域
```
        [🍏青苹果]
            |
    [🍌香蕉]   [🍎红苹果]
```
玩家讨论谁拿哪个，香蕉作为备选。

#### 🤔 选择困境
```
    ←只有一个！→
        [🍒樱桃]
```
必须决定谁来拿这个道具。

#### ⚠️ 风险回报
```
    [🥚复活节彩蛋] ← 需要铲子
           ↑
    [☠️] [☠️] ← 毒苹果区
           ↑
        入口
```
想拿高价值道具需要冒险。

#### 🧩 解谜区域
```
    [🪨石头] ← 挡住去路
         ↓
    [🔧铲子] ← 在另一条路
```
需要先绕路拿铲子。

---

### 道具密度建议

| 关卡类型 | 道具密度 | 绿:红比例 | 特殊道具 |
|---------|:--------:|:---------:|:--------:|
| 教学关 | 高 | 1:1 | 无 |
| 普通关 | 中 | 1:1 | 1-2个 |
| 挑战关 | 低 | 略不平衡 | 2-3个 |
| Boss关 | 极低 | 极不平衡 | 多个 |

---

## 💡 Aha Moment 设计

### 1. 颜色亲和惊喜
**场景**: 玩家发现吃"错"颜色的水果反而更好
**实现**: 第一关只放对方颜色的水果
```
教学提示: "咦？红熊吃绿苹果恢复更多！"
```

### 2. 曼妥思+可乐组合
**场景**: 同时拥有曼妥思和可乐时吃曼妥思
**效果**: 触发火箭推进而不是+1体力
```
背包: [曼妥思] [可乐]
使用曼妥思 → 💥 火箭推进！
```

### 3. 毒苹果陷阱
**场景**: 毒苹果外观类似红苹果
**设计**: 放在红苹果旁边，颜色略暗
```
[🍎] [☠️] ← 哪个是真的？
```

### 4. 彩蛋抽奖
**场景**: 用铲子击碎彩蛋
**奖池**:
```
60% 普通: 香蕉、曼妥思、随机水果
30% 稀有: 可乐、软糖鱼、铲子
 9% 史诗: 灵魂网、高级钉子
 1% 传说: ???
```

### 5. 灵魂状态探索
**场景**: 熊体力归零变成灵魂
**特性**: 灵魂可以穿墙、探索危险区域
```
活熊: 不能穿过障碍
灵魂: 可以穿过，拾取道具带回
```

---

## 🛠️ 编辑器工具

### 快捷键

| 快捷键 | 功能 |
|--------|------|
| `Shift+Alt+I` | 打开道具浏览器 |
| `Shift+Alt+P` | 打开快速放置面板 |

### 菜单位置

```
BearCar
├── 道具系统
│   ├── 道具浏览器          ← 查看所有道具
│   ├── 创建所有预设道具     ← 一键创建
│   ├── 创建道具管理器       ← 场景必需
│   ├── 创建道具生成点       ← 定时生成
│   ├── 在场景中放置道具     ← 手动放置
│   └── 打开设计文档         ← 本文档
│
└── 关卡设计
    └── 快速放置面板         ← 快速放置道具
```

### 场景视图功能

- **道具统计**: 右上角显示场景道具数量
- **颜色指示**: 道具上方显示颜色点
- **稀有度标记**: 稀有道具显示星星

### 道具浏览器功能

1. **搜索过滤**: 按名称、类型、颜色筛选
2. **效果预览**: 查看对不同熊的效果
3. **快速放置**: 点击按钮直接放到场景
4. **放置模式**: 开启后点击场景即可放置

---

## 📊 平衡性检查清单

在提交关卡前，检查以下项目：

- [ ] 绿色和红色道具数量基本平衡
- [ ] 每个区域有保底道具（香蕉）
- [ ] 永久障碍都有对应的解决工具
- [ ] 毒苹果不在玩家必经之路
- [ ] 稀有道具放在有风险的位置
- [ ] 测试了两只熊的游玩体验

使用 **场景分析工具** 快速检查:
```
快速放置面板 → 分析场景
```

---

## 🔮 未来扩展

### 计划中的道具
- 🎃 万圣节南瓜 (季节限定)
- 🎄 圣诞糖果 (季节限定)
- 🧊 冰块 (可冻结队友)
- 🔥 火焰 (可融化冰块)

### 计划中的机制
- 道具合成系统
- 道具商店
- 每日挑战奖励

---

> 📝 **文档维护者**: 开发团队
> 💬 **问题反馈**: 在 Unity Console 查看道具相关日志，标记为 `[ItemLog]`
